{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // Removes all leading and trailing slashes from a path\n\nfunction stripSlashes(name) {\n  return name.replace(/^(\\/+)|(\\/+)$/g, '');\n}\n\nexports.stripSlashes = stripSlashes; // A set of lodash-y utility functions that use ES6\n\nexports._ = {\n  each(obj, callback) {\n    if (obj && typeof obj.forEach === 'function') {\n      obj.forEach(callback);\n    } else if (exports._.isObject(obj)) {\n      Object.keys(obj).forEach(key => callback(obj[key], key));\n    }\n  },\n\n  some(value, callback) {\n    return Object.keys(value).map(key => [value[key], key]).some(([val, key]) => callback(val, key));\n  },\n\n  every(value, callback) {\n    return Object.keys(value).map(key => [value[key], key]).every(([val, key]) => callback(val, key));\n  },\n\n  keys(obj) {\n    return Object.keys(obj);\n  },\n\n  values(obj) {\n    return exports._.keys(obj).map(key => obj[key]);\n  },\n\n  isMatch(obj, item) {\n    return exports._.keys(item).every(key => obj[key] === item[key]);\n  },\n\n  isEmpty(obj) {\n    return exports._.keys(obj).length === 0;\n  },\n\n  isObject(item) {\n    return typeof item === 'object' && !Array.isArray(item) && item !== null;\n  },\n\n  isObjectOrArray(value) {\n    return typeof value === 'object' && value !== null;\n  },\n\n  extend(first, ...rest) {\n    return Object.assign(first, ...rest);\n  },\n\n  omit(obj, ...keys) {\n    const result = exports._.extend({}, obj);\n\n    keys.forEach(key => delete result[key]);\n    return result;\n  },\n\n  pick(source, ...keys) {\n    return keys.reduce((result, key) => {\n      if (source[key] !== undefined) {\n        result[key] = source[key];\n      }\n\n      return result;\n    }, {});\n  },\n\n  // Recursively merge the source object into the target object\n  merge(target, source) {\n    if (exports._.isObject(target) && exports._.isObject(source)) {\n      Object.keys(source).forEach(key => {\n        if (exports._.isObject(source[key])) {\n          if (!target[key]) {\n            Object.assign(target, {\n              [key]: {}\n            });\n          }\n\n          exports._.merge(target[key], source[key]);\n        } else {\n          Object.assign(target, {\n            [key]: source[key]\n          });\n        }\n      });\n    }\n\n    return target;\n  }\n\n}; // Duck-checks if an object looks like a promise\n\nfunction isPromise(result) {\n  return exports._.isObject(result) && typeof result.then === 'function';\n}\n\nexports.isPromise = isPromise;\n\nfunction makeUrl(path, app = {}) {\n  const get = typeof app.get === 'function' ? app.get.bind(app) : () => {};\n  const env = get('env') || process.env.NODE_ENV;\n  const host = get('host') || process.env.HOST_NAME || 'localhost';\n  const protocol = env === 'development' || env === 'test' || env === undefined ? 'http' : 'https';\n  const PORT = get('port') || process.env.PORT || 3030;\n  const port = env === 'development' || env === 'test' || env === undefined ? `:${PORT}` : '';\n  path = path || '';\n  return `${protocol}://${host}${port}/${exports.stripSlashes(path)}`;\n}\n\nexports.makeUrl = makeUrl;\n\nfunction createSymbol(name) {\n  return typeof Symbol !== 'undefined' ? Symbol(name) : name;\n}\n\nexports.createSymbol = createSymbol;","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";;;;IAAA;;AACA,SAAgB,YAAhB,CAA8B,IAA9B,EAA0C;AACxC,SAAO,IAAI,CAAC,OAAL,CAAa,gBAAb,EAA+B,EAA/B,CAAP;AACD;;AAFD,OAAA,CAAA,YAAA,GAAA,YAAA,C,CAMA;;AACa,OAAA,CAAA,CAAA,GAAI;AACf,EAAA,IAAI,CAAE,GAAF,EAAY,QAAZ,EAA4C;AAC9C,QAAI,GAAG,IAAI,OAAO,GAAG,CAAC,OAAX,KAAuB,UAAlC,EAA8C;AAC5C,MAAA,GAAG,CAAC,OAAJ,CAAY,QAAZ;AACD,KAFD,MAEO,IAAI,OAAA,CAAA,CAAA,CAAE,QAAF,CAAW,GAAX,CAAJ,EAAqB;AAC1B,MAAA,MAAM,CAAC,IAAP,CAAY,GAAZ,EAAiB,OAAjB,CAAyB,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC,GAAD,CAAJ,EAAW,GAAX,CAAxC;AACD;AACF,GAPc;;AASf,EAAA,IAAI,CAAE,KAAF,EAAc,QAAd,EAAiD;AACnD,WAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,EACJ,GADI,CACA,GAAG,IAAI,CAAE,KAAK,CAAC,GAAD,CAAP,EAAc,GAAd,CADP,EAEJ,IAFI,CAEC,CAAC,CAAC,GAAD,EAAM,GAAN,CAAD,KAAgB,QAAQ,CAAC,GAAD,EAAM,GAAN,CAFzB,CAAP;AAGD,GAbc;;AAef,EAAA,KAAK,CAAE,KAAF,EAAc,QAAd,EAAiD;AACpD,WAAO,MAAM,CAAC,IAAP,CAAY,KAAZ,EACJ,GADI,CACA,GAAG,IAAI,CAAE,KAAK,CAAC,GAAD,CAAP,EAAc,GAAd,CADP,EAEJ,KAFI,CAEE,CAAC,CAAC,GAAD,EAAM,GAAN,CAAD,KAAgB,QAAQ,CAAC,GAAD,EAAM,GAAN,CAF1B,CAAP;AAGD,GAnBc;;AAqBf,EAAA,IAAI,CAAE,GAAF,EAAU;AACZ,WAAO,MAAM,CAAC,IAAP,CAAY,GAAZ,CAAP;AACD,GAvBc;;AAyBf,EAAA,MAAM,CAAE,GAAF,EAAU;AACd,WAAO,OAAA,CAAA,CAAA,CAAE,IAAF,CAAO,GAAP,EAAY,GAAZ,CAAgB,GAAG,IAAI,GAAG,CAAC,GAAD,CAA1B,CAAP;AACD,GA3Bc;;AA6Bf,EAAA,OAAO,CAAE,GAAF,EAAY,IAAZ,EAAqB;AAC1B,WAAO,OAAA,CAAA,CAAA,CAAE,IAAF,CAAO,IAAP,EAAa,KAAb,CAAmB,GAAG,IAAI,GAAG,CAAC,GAAD,CAAH,KAAa,IAAI,CAAC,GAAD,CAA3C,CAAP;AACD,GA/Bc;;AAiCf,EAAA,OAAO,CAAE,GAAF,EAAU;AACf,WAAO,OAAA,CAAA,CAAA,CAAE,IAAF,CAAO,GAAP,EAAY,MAAZ,KAAuB,CAA9B;AACD,GAnCc;;AAqCf,EAAA,QAAQ,CAAE,IAAF,EAAW;AACjB,WAAQ,OAAO,IAAP,KAAgB,QAAhB,IAA4B,CAAC,KAAK,CAAC,OAAN,CAAc,IAAd,CAA7B,IAAoD,IAAI,KAAK,IAArE;AACD,GAvCc;;AAyCf,EAAA,eAAe,CAAE,KAAF,EAAY;AACzB,WAAO,OAAO,KAAP,KAAiB,QAAjB,IAA6B,KAAK,KAAK,IAA9C;AACD,GA3Cc;;AA6Cf,EAAA,MAAM,CAAE,KAAF,EAAc,GAAG,IAAjB,EAA4B;AAChC,WAAO,MAAM,CAAC,MAAP,CAAc,KAAd,EAAqB,GAAG,IAAxB,CAAP;AACD,GA/Cc;;AAiDf,EAAA,IAAI,CAAE,GAAF,EAAY,GAAG,IAAf,EAA6B;AAC/B,UAAM,MAAM,GAAG,OAAA,CAAA,CAAA,CAAE,MAAF,CAAS,EAAT,EAAa,GAAb,CAAf;;AACA,IAAA,IAAI,CAAC,OAAL,CAAa,GAAG,IAAI,OAAO,MAAM,CAAC,GAAD,CAAjC;AACA,WAAO,MAAP;AACD,GArDc;;AAuDf,EAAA,IAAI,CAAE,MAAF,EAAe,GAAG,IAAlB,EAAgC;AAClC,WAAO,IAAI,CAAC,MAAL,CAAY,CAAC,MAAD,EAAiC,GAAjC,KAAwC;AACzD,UAAI,MAAM,CAAC,GAAD,CAAN,KAAgB,SAApB,EAA+B;AAC7B,QAAA,MAAM,CAAC,GAAD,CAAN,GAAc,MAAM,CAAC,GAAD,CAApB;AACD;;AAED,aAAO,MAAP;AACD,KANM,EAMJ,EANI,CAAP;AAOD,GA/Dc;;AAiEf;AACA,EAAA,KAAK,CAAE,MAAF,EAAe,MAAf,EAA0B;AAC7B,QAAI,OAAA,CAAA,CAAA,CAAE,QAAF,CAAW,MAAX,KAAsB,OAAA,CAAA,CAAA,CAAE,QAAF,CAAW,MAAX,CAA1B,EAA8C;AAC5C,MAAA,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,OAApB,CAA4B,GAAG,IAAG;AAChC,YAAI,OAAA,CAAA,CAAA,CAAE,QAAF,CAAW,MAAM,CAAC,GAAD,CAAjB,CAAJ,EAA6B;AAC3B,cAAI,CAAC,MAAM,CAAC,GAAD,CAAX,EAAkB;AAChB,YAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB;AAAE,eAAC,GAAD,GAAO;AAAT,aAAtB;AACD;;AAED,UAAA,OAAA,CAAA,CAAA,CAAE,KAAF,CAAQ,MAAM,CAAC,GAAD,CAAd,EAAqB,MAAM,CAAC,GAAD,CAA3B;AACD,SAND,MAMO;AACL,UAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB;AAAE,aAAC,GAAD,GAAO,MAAM,CAAC,GAAD;AAAf,WAAtB;AACD;AACF,OAVD;AAWD;;AACD,WAAO,MAAP;AACD;;AAjFc,CAAJ,C,CAoFb;;AACA,SAAgB,SAAhB,CAA2B,MAA3B,EAAsC;AACpC,SAAO,OAAA,CAAA,CAAA,CAAE,QAAF,CAAW,MAAX,KACL,OAAO,MAAM,CAAC,IAAd,KAAuB,UADzB;AAED;;AAHD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAKA,SAAgB,OAAhB,CAAyB,IAAzB,EAAuC,GAAA,GAAW,EAAlD,EAAoD;AAClD,QAAM,GAAG,GAAG,OAAO,GAAG,CAAC,GAAX,KAAmB,UAAnB,GAAgC,GAAG,CAAC,GAAJ,CAAQ,IAAR,CAAa,GAAb,CAAhC,GAAoD,MAAK,CAAG,CAAxE;AACA,QAAM,GAAG,GAAG,GAAG,CAAC,KAAD,CAAH,IAAc,OAAO,CAAC,GAAR,CAAY,QAAtC;AACA,QAAM,IAAI,GAAG,GAAG,CAAC,MAAD,CAAH,IAAe,OAAO,CAAC,GAAR,CAAY,SAA3B,IAAwC,WAArD;AACA,QAAM,QAAQ,GAAI,GAAG,KAAK,aAAR,IAAyB,GAAG,KAAK,MAAjC,IAA4C,GAAG,KAAK,SAArD,GAAmE,MAAnE,GAA4E,OAA7F;AACA,QAAM,IAAI,GAAG,GAAG,CAAC,MAAD,CAAH,IAAe,OAAO,CAAC,GAAR,CAAY,IAA3B,IAAmC,IAAhD;AACA,QAAM,IAAI,GAAI,GAAG,KAAK,aAAR,IAAyB,GAAG,KAAK,MAAjC,IAA4C,GAAG,KAAK,SAArD,GAAmE,IAAI,IAAI,EAA3E,GAAgF,EAA7F;AAEA,EAAA,IAAI,GAAG,IAAI,IAAI,EAAf;AAEA,SAAO,GAAG,QAAQ,MAAM,IAAI,GAAG,IAAI,IAAI,OAAO,CAAC,YAAR,CAAqB,IAArB,CAA0B,EAAjE;AACD;;AAXD,OAAA,CAAA,OAAA,GAAA,OAAA;;AAaA,SAAgB,YAAhB,CAA8B,IAA9B,EAA0C;AACxC,SAAO,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,IAAD,CAAtC,GAA+C,IAAtD;AACD;;AAFD,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Removes all leading and trailing slashes from a path\nfunction stripSlashes(name) {\n    return name.replace(/^(\\/+)|(\\/+)$/g, '');\n}\nexports.stripSlashes = stripSlashes;\n// A set of lodash-y utility functions that use ES6\nexports._ = {\n    each(obj, callback) {\n        if (obj && typeof obj.forEach === 'function') {\n            obj.forEach(callback);\n        }\n        else if (exports._.isObject(obj)) {\n            Object.keys(obj).forEach(key => callback(obj[key], key));\n        }\n    },\n    some(value, callback) {\n        return Object.keys(value)\n            .map(key => [value[key], key])\n            .some(([val, key]) => callback(val, key));\n    },\n    every(value, callback) {\n        return Object.keys(value)\n            .map(key => [value[key], key])\n            .every(([val, key]) => callback(val, key));\n    },\n    keys(obj) {\n        return Object.keys(obj);\n    },\n    values(obj) {\n        return exports._.keys(obj).map(key => obj[key]);\n    },\n    isMatch(obj, item) {\n        return exports._.keys(item).every(key => obj[key] === item[key]);\n    },\n    isEmpty(obj) {\n        return exports._.keys(obj).length === 0;\n    },\n    isObject(item) {\n        return (typeof item === 'object' && !Array.isArray(item) && item !== null);\n    },\n    isObjectOrArray(value) {\n        return typeof value === 'object' && value !== null;\n    },\n    extend(first, ...rest) {\n        return Object.assign(first, ...rest);\n    },\n    omit(obj, ...keys) {\n        const result = exports._.extend({}, obj);\n        keys.forEach(key => delete result[key]);\n        return result;\n    },\n    pick(source, ...keys) {\n        return keys.reduce((result, key) => {\n            if (source[key] !== undefined) {\n                result[key] = source[key];\n            }\n            return result;\n        }, {});\n    },\n    // Recursively merge the source object into the target object\n    merge(target, source) {\n        if (exports._.isObject(target) && exports._.isObject(source)) {\n            Object.keys(source).forEach(key => {\n                if (exports._.isObject(source[key])) {\n                    if (!target[key]) {\n                        Object.assign(target, { [key]: {} });\n                    }\n                    exports._.merge(target[key], source[key]);\n                }\n                else {\n                    Object.assign(target, { [key]: source[key] });\n                }\n            });\n        }\n        return target;\n    }\n};\n// Duck-checks if an object looks like a promise\nfunction isPromise(result) {\n    return exports._.isObject(result) &&\n        typeof result.then === 'function';\n}\nexports.isPromise = isPromise;\nfunction makeUrl(path, app = {}) {\n    const get = typeof app.get === 'function' ? app.get.bind(app) : () => { };\n    const env = get('env') || process.env.NODE_ENV;\n    const host = get('host') || process.env.HOST_NAME || 'localhost';\n    const protocol = (env === 'development' || env === 'test' || (env === undefined)) ? 'http' : 'https';\n    const PORT = get('port') || process.env.PORT || 3030;\n    const port = (env === 'development' || env === 'test' || (env === undefined)) ? `:${PORT}` : '';\n    path = path || '';\n    return `${protocol}://${host}${port}/${exports.stripSlashes(path)}`;\n}\nexports.makeUrl = makeUrl;\nfunction createSymbol(name) {\n    return typeof Symbol !== 'undefined' ? Symbol(name) : name;\n}\nexports.createSymbol = createSymbol;\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}